{"remainingRequest":"C:\\Users\\39239\\Desktop\\houzhidao\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\39239\\Desktop\\houzhidao\\src\\views\\article\\publish\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\39239\\Desktop\\houzhidao\\src\\views\\article\\publish\\index.vue","mtime":1556436769007},{"path":"C:\\Users\\39239\\Desktop\\houzhidao\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\39239\\Desktop\\houzhidao\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\39239\\Desktop\\houzhidao\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\39239\\Desktop\\houzhidao\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport MarkdownEditor from \"@/components/MarkdownEditor\";\r\nimport { mapState } from \"vuex\";\r\nexport default {\r\n    data() {\r\n        return {\r\n            content: \"\",\r\n            markdownMode: \"wysiwyg\",\r\n            article: {\r\n                title: \"\",\r\n                content: \"\",\r\n                author: \"\",\r\n                time: \"\"\r\n            }\r\n        };\r\n    },\r\n\r\n    components: {\r\n        MarkdownEditor\r\n    },\r\n\r\n    computed: {\r\n        ...mapState({\r\n            userInfo: state => state.user.info\r\n        })\r\n    },\r\n\r\n    methods: {\r\n        publish() {\r\n            this.article.author = this.userInfo.name;\r\n            this.article.content = this.$refs.markdown.getHtml();\r\n            this.article.time = new Date().getTime();\r\n\r\n            console.log(this.article);\r\n        },\r\n\r\n        changeMode() {\r\n            this.markdownMode =\r\n                this.markdownMode === \"markdown\" ? \"wysiwyg\" : \"markdown\";\r\n        }\r\n    },\r\n\r\n    mounted() {}\r\n};\r\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"index.vue","sourceRoot":"src/views/article/publish","sourcesContent":["<template>\r\n    <div class=\"publish\">\r\n        <div class=\"mode\" @click=\"changeMode\">\r\n            <span :class=\"markdownMode === 'markdown' ? 'active'  : '' \">Markdown</span>\r\n            <span :class=\"markdownMode === 'wysiwyg' ? 'active'  : '' \">所见即所得</span>\r\n        </div>\r\n        <el-card>\r\n            <el-input placeholder=\"文章标题\" v-model=\"article.title\"></el-input>\r\n            <markdown-editor\r\n                v-model=\"content\"\r\n                :language=\"'zh_CN'\"\r\n                :mode=\"markdownMode\"\r\n                class=\"markdown\"\r\n                ref=\"markdown\"\r\n                height=\"auto\"\r\n            />\r\n        </el-card>\r\n        <el-button type=\"primary\" @click=\"publish\">发布</el-button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport MarkdownEditor from \"@/components/MarkdownEditor\";\r\nimport { mapState } from \"vuex\";\r\nexport default {\r\n    data() {\r\n        return {\r\n            content: \"\",\r\n            markdownMode: \"wysiwyg\",\r\n            article: {\r\n                title: \"\",\r\n                content: \"\",\r\n                author: \"\",\r\n                time: \"\"\r\n            }\r\n        };\r\n    },\r\n\r\n    components: {\r\n        MarkdownEditor\r\n    },\r\n\r\n    computed: {\r\n        ...mapState({\r\n            userInfo: state => state.user.info\r\n        })\r\n    },\r\n\r\n    methods: {\r\n        publish() {\r\n            this.article.author = this.userInfo.name;\r\n            this.article.content = this.$refs.markdown.getHtml();\r\n            this.article.time = new Date().getTime();\r\n\r\n            console.log(this.article);\r\n        },\r\n\r\n        changeMode() {\r\n            this.markdownMode =\r\n                this.markdownMode === \"markdown\" ? \"wysiwyg\" : \"markdown\";\r\n        }\r\n    },\r\n\r\n    mounted() {}\r\n};\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n.publish {\r\n    padding: 20px 30px;\r\n    position: relative;\r\n\r\n    .mode {\r\n        position: absolute;\r\n        top: 20px;\r\n        left: 50%;\r\n        transform: translate(-50%);\r\n\r\n        span {\r\n            display: inline-block;\r\n            padding: 10px 15px;\r\n            margin: 0 20px;\r\n            letter-spacing: 2px;\r\n            color: #93999f;\r\n            border-radius: 8px;\r\n            cursor: pointer;\r\n        }\r\n\r\n        .active {\r\n            color: #fff;\r\n            background: #93999f;\r\n        }\r\n    }\r\n\r\n    >>> .el-card {\r\n        width: 70%;\r\n        margin: 60px auto 0px;\r\n\r\n        .el-input {\r\n            padding-bottom: 20px;\r\n        }\r\n    }\r\n\r\n    >>> .el-button {\r\n        position: absolute;\r\n        top: 20px;\r\n        right: 60px;\r\n    }\r\n}\r\n</style>\r\n"]}]}